
# 网络攻击之类的

一类攻击...web有哪些攻击手段, SQL注入,XSS,CSRF

## XSS(Cross Site Scripting)跨站脚本攻击

XSS指恶意攻击者利用网站没有对用户提交数据进行转义处理或者过滤不足的缺点，进而添加一些代码，嵌入到web页面中去。使别的用户访问都会执行相应的嵌入代码。
从而盗取用户资料、利用用户身份进行某种动作或者对访问者进行病毒侵害的一种攻击方式。

XSS攻击的危害包括：

1、盗取各类用户帐号，如机器登录帐号、用户网银帐号、各类管理员帐号
2、控制企业数据，包括读取、篡改、添加、删除企业敏感数据的能力
3、盗窃企业重要的具有商业价值的资料
4、非法转账
5、强制发送电子邮件
6、网站挂马
7、控制受害者机器向其它网站发起攻击

**原因解析**
主要原因：过于信任客户端提交的数据!

**解决办法:**
不信任客户端提交的数据，只要是客户端提交的数据就应该先进行相应的过滤处理后方可进行下一步的操作.

**进一步分析:**
客户端提交的数据本身就是应用所需的，但是恶心攻击者利用网站对客户端提提交数据的信任，在数据中插入一些符号以及JavaScript代码，那么这些数据就会成为应用代码中给的一部分了，那么攻击者就可以肆无忌惮的展开攻击

绝对不可信任任何客户端提交的数据

**XSS攻击类型类型**：持久性(存储型)和非持久性(反射型)

持久型也就是攻击的代码被写入数据库中，这个攻击危害性很大，如果网站访问量很大的话，就会导致大量正常访问的页面，就会导致大量正常访问页面的用户都受到攻击。

例子中只是简单的alert(),但是脚本如果很复杂盗用用户的cookie(接口请求获取)，账号密码(DOM查询获取)等操作
这种情况如果前后端都没有做防御的话，这段评论就会被存储到数据库中，这样每个打开这个页面的用户都会被攻击

**防御方法**
1 转义字符
  对于用户的输入应该是永远不信任的，最普遍的做法就是转义输入输出的内容，对于括号，尖括号，斜杠进行转义
2 CSP内容安全策略
  过指定有效域——即浏览器认可的可执行脚本的有效来源——使服务器管理者有能力减少或消除XSS攻击所依赖的载体。一个CSP兼容的浏览器将会仅执行从白名单域获取到的脚本文件，忽略所有的其他脚本 (包括内联脚本和HTML的事件处理属性)。

作为一种终极防护形式，始终不允许执行脚本的站点可以选择全面禁止脚本执行
CSP本质上就是建立白名单，开发者明确告诉浏览器哪些外部资源可以进行加载和执行，我们只需要配置规则，如何拦截是由浏览器自己实现的，我们可以通过这种方式来尽量减少XSS攻击

## CSRF攻击方式

### 一.CSRF是什么？

CSRF（Cross-site request forgery），中文名称：跨站请求伪造，
也被称为：one click attack/session riding，缩写为：CSRF/XSRF。

### 二.CSRF可以做什么？

理解CSRF攻击：攻击者盗用了你的身份，以你的名义发送恶意请求。CSRF能够做的事情包括：以你名义发送邮件，发消息，盗取你的账号，甚至于购买商品，虚拟货币转账......造成的问题包括：个人隐私泄露以及财产安全。

### 三.CSRF漏洞现状

CSRF这种攻击方式在2000年已经被国外的安全人员提出，但在国内，直到06年才开始被关注，08年，国内外的多个大型社区和交互网站分别爆出CSRF漏洞，如：NYTimes.com（纽约时报）、Metafilter（一个大型的BLOG网站），YouTube和百度HI......而现在，互联网上的许多站点仍对此毫无防备，以至于安全业界称CSRF为“沉睡的巨人”。

CSRF攻击的思想：

要完成一次CSRF攻击，受害者必须依次完成两个步骤：

1.登录受信任网站A，并在本地生成Cookie。

2.在不登出A的情况下，访问危险网站B。

防御CSRF的方法：检查**Referer**字段，添加校验**Token**